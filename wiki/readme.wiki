= 简介 =

UCloner (原名 ubuntu-cloner ) 是针对 Ubuntu Linux 编写的一个系统备份、恢复、克隆及批量部署工具。
图形界面,鼠标操作,简单易用。
在 Ubuntu 9.04、9.10 中测试通过。理论上也可用于旧版 ubuntu 。



= 使用方法 =

如果您使用的是 Ubuntu 或 Xubuntu:猛击 “双击运行”。若弹出对话框,选“运行”。
如果您使用的是 Kubuntu: 打开终端,运行 
sudo apt-get install python-gtk2 zenity python-vte`;然后切
换到 UCloner 目录,运行`sudo ./ucloner-gui.py`。


= 功能说明 =

==备份==
将当前系统备份为一个映像文件。这点与 Ghost 不太一样。Ghost 一般是在另一个系统(如 DOS、WinPE 等)中备份非活动的 windows 系统。而 Linux 可以自己备份自己。Win7 也提供了类似的功能。
备份时会自动排除常规挂载目录 /mnt 和 /media 。如果您设定了其它挂载点(如 /windows/`*`、/home/`*`/win_c`之类),可手动指定排除之。
还要注意某些可能含有大文件的缓存目录,如 /home/`*`/.aMule/Temp等。如果您备份出的映像文件异常的大,很可能是把下载到一半的电影也包进去了。
备份为 squashfs 时,需先安装 squashfs-tools 。


==恢复==
将 Ubuntu 系统从备份文件中恢复到硬盘分区。此操作须在另一系统(如 Ubuntu Live CD)中进行,此系
统最好与备份系统的版本相同,否则可能导致恢复失败,或出现某些奇怪的问题。
恢复的系统与原系统在分区配置上可以不同。UCloner 只提供了 3 个可选分区: / 、/home 和 swap。其
中:
 * / 分区及其文件系统不可为空;
 * /home 、swap 分区可以留空;
 * swap 行第二个输入项无实际用途,只是为了看起来整齐;
对于普通桌面用户,这三个分区足够了。不必盲目追随一些过时的教程。有些事有历史原因,比如,把 /
boot 单独分区,是因为曾经 bios 不能访问硬盘 1024 柱面后的内容,因此要把 boot 放在硬盘靠前的部
分。如今这问题早就不存在了。而把 /var 、/tmp 等单独分区,一般是用在服务器上,普通用户无此必
要。
grub 安装位置提供三个选择:留空,“目标根分区”,或“目标根分区所在硬盘”。
 * 如果留空,则不安装 grub。
 * 如果选“目标根分区”(如 /dev/sda5 ),将把 grub 安装到该分区的引导扇区。
 * 如果选“目标根分区所在硬盘”(如 /dev/sda ),将把 grub 安装到该硬盘 MBR。
新主机名可以留空。留空则保持原主机名。


==克隆==
有些朋友对此比较迷惑,因为 windows 中没有对应的功能。其实就是把备份和恢复合在一起。看“克隆是
啥意思”中的图片就明白了。



= 已知问题 =

1. 未格式化的分区不会出现在分区选择列表中。这是因为目前使用的 parted 不太容易处理未格式化分区
的容量。用 fidsk 较容易处理,却不支持 gpt 。待以后改进。
临时解决方法:运行 UCloner 之前,先将目标分区分好并格式化。此时的格式化,只是为了保证分区能
够出现在选择列表中,因此,用哪种格式并不重要,fat、ntfs、ext2/3/4 等随便选一种即可。真正克隆
或恢复时,还可以重新选择文件系统、格式化。

2. 关于分区工具
某些第三方分区工具不够“好”,比如,不给分区分配 UUID、创建的文件系统与 ubuntu 所用的版本不同,
等等。如果是用第三方工具分的区,那么,到“选择用于...的文件系统”步骤时,最好选择“格式化为...” ;
如果是用 ubuntu 自带的 gparted 分的区,则可以选择“不格式化,使用现有文件系统”。
建议使用 ubuntu 自带的 Gparted (分区编辑器)。

3. 关于 9.10 使用 reiserfs
安装到硬盘的 ubuntu 9.10 没有 reiserfsprog,因此克隆时无法创建 reiserfs 文件系统。
解决方法:手动安装 reiserfsprog 。